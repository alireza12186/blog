---
layout: post
title:  "چگونه برای ssh شرت‌کات بسازیم؟"
date:   2018-12-04 08:37:00
description: در این مطلب یاد می‌گیریم که چطور برای اتصال به ssh شرت‌کات بسازیم طوری که تنها با وارد کردن یک حرف در ترمینال به سرور وصل شویم. 
categories: لینوکس
tags: [ssh, شرت‌کات ssh, server, port forwarding]
---
فرض کنیم که شما بر اساس کار و نیازتون باید به صورت مداوم به سرور یا سرورهای مختلفی به صورت ssh وصل بشید. یه فرض دیگه کنیم که شما هم مثل من از سیستم عامل لینوکس استفاده می‌کنید و هر بار دستور ssh رو توی ترمینال وارد می‌کنید و پسوورد رو وارد می‌کنید و باقی ماجرا. 
 امروز می‌خوام شما رو با یه شرت‌کات آشنا کنم که فقط با تایپ یک حرف از طریق ssh به سرور مورد نظرتون وصل بشید. 

### ابزار مورد نیاز برای ایجاد شرت‌کات ssh

در اولین مرحله وارد ترمینال بشید و sshpass رو نصب کنید. در مورد نحوه نصبش توی توزیع‌های مختلف توضیحی نمی‌دم. sshpass چی کار می‌کنه؟ sshpass باعث می‌شه شما هر بار مجبور نباشید پسوورد وارد کنید.
در مرحله دوم باید توی ترمینال دستور زیر رو بزنید و فایل مربوطه رو باز کنید. 

{% highlight css %}
sudo nano ~/.bash_aliases
{% endhighlight %}

چون قول دادیم که فقط با یک حرف به سرور ssh وصل بشیم پس به عنوان مثال حرف a رو انتخاب می‌کنم تا هر وقت توی ترمینال حرف a رو زدیم و اینتر کردیم به سرورمون وصل بشیم. 
توی فایلی که باز کردیم این عبارت رو بنویسید. 

{% highlight css %}
alias a='sshpass -p 'PASSWORD' ssh USER@IP'
{% endhighlight %}

به جای PASSWORD پسووردتون رو بنویسید. به جای USER یوزر خودتون رو بنویسید. مثلاً root. به جای IP هم که آی پی سرور رو بنویسید. اگر هم پورت ssh رو عوض کردید بعد از آی پی یه فاصله بندازید و بنویسید

{% highlight css %}
-p NUMBER OF PORT
{% endhighlight %}

با این روش حتی می‌تونید از port forwarding هم استفاده کنید که بهتره خودتون این قسمت رو آزمایش کنید. عمده استفاده من از اتصال به سرور ssh همین پورت‌فورواردینگه. :)

در مرحله آخر فایلی که ویرایش کردیم رو باید ریلود کنیم. پس یا دستور زیر رو بزنید یا سیستم رو ریستارت کنید. 

{% highlight css %}
source ~/.bash_aliases
{% endhighlight %}

تمام شد. 
از این به بعد هر وقت ترمینال رو باز کنید و حرف a رو بنویسید و اینتر کنید مستقیماً به سرور مورد نظرتون وصل می‌شید. 
